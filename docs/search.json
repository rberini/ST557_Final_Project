[
  {
    "objectID": "ST557_Citi_Bikes.html",
    "href": "ST557_Citi_Bikes.html",
    "title": "Final Project: Citi Bikes",
    "section": "",
    "text": "The Citi Bike program is a bike-sharing system in New York City that allows users to rent bicycles for short trips around the city. The program has become increasingly popular since its launch in 2013, with millions of rides taken each year. In this project, we will analyze Citi Bike trip data for 2018 to gain insights into usage patterns, popular routes, and user profiles.\n\n\nThe data for this analysis is sourced from the Citi Bike system’s public data repository, which provides monthly trip data in CSV format. The dataset includes information such as trip duration, start and end stations, user type (subscriber or customer), and timestamps for each trip.\n\n\n\n\ntripduration: Duration of the trip in seconds.\nstarttime: Timestamp for when the trip started.\nstoptime: Timestamp for when the trip ended.\nstart station id: Unique identifier for the starting station.\nstart station name: Name of the starting station.\nend station id: Unique identifier for the ending station.\nend station name: Name of the ending station.\nbikeid: Unique identifier for the bike used.\nusertype: Type of user (Subscriber or Customer).\nbirth year: Birth year of the user\ngender: Gender of the user"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#introduction",
    "href": "ST557_Citi_Bikes.html#introduction",
    "title": "Final Project: Citi Bikes",
    "section": "",
    "text": "The Citi Bike program is a bike-sharing system in New York City that allows users to rent bicycles for short trips around the city. The program has become increasingly popular since its launch in 2013, with millions of rides taken each year. In this project, we will analyze Citi Bike trip data for 2018 to gain insights into usage patterns, popular routes, and user profiles.\n\n\nThe data for this analysis is sourced from the Citi Bike system’s public data repository, which provides monthly trip data in CSV format. The dataset includes information such as trip duration, start and end stations, user type (subscriber or customer), and timestamps for each trip.\n\n\n\n\ntripduration: Duration of the trip in seconds.\nstarttime: Timestamp for when the trip started.\nstoptime: Timestamp for when the trip ended.\nstart station id: Unique identifier for the starting station.\nstart station name: Name of the starting station.\nend station id: Unique identifier for the ending station.\nend station name: Name of the ending station.\nbikeid: Unique identifier for the bike used.\nusertype: Type of user (Subscriber or Customer).\nbirth year: Birth year of the user\ngender: Gender of the user"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#data-loading-and-preparation",
    "href": "ST557_Citi_Bikes.html#data-loading-and-preparation",
    "title": "Final Project: Citi Bikes",
    "section": "Data Loading and Preparation",
    "text": "Data Loading and Preparation\nLoad required packages\n\nlibrary(tidyverse)\n\nWarning: package 'ggplot2' was built under R version 4.5.2\n\n\nWarning: package 'readr' was built under R version 4.5.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.6\n✔ forcats   1.0.1     ✔ stringr   1.6.0\n✔ ggplot2   4.0.1     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.2.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(fs)\nlibrary(vroom)\n\n\nAttaching package: 'vroom'\n\nThe following objects are masked from 'package:readr':\n\n    as.col_spec, col_character, col_date, col_datetime, col_double,\n    col_factor, col_guess, col_integer, col_logical, col_number,\n    col_skip, col_time, cols, cols_condense, cols_only, date_names,\n    date_names_lang, date_names_langs, default_locale, fwf_cols,\n    fwf_empty, fwf_positions, fwf_widths, locale, output_column,\n    problems, spec\n\nlibrary(broom)\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(sf)\n\nLinking to GEOS 3.13.0, GDAL 3.8.5, PROJ 9.5.1; sf_use_s2() is TRUE\n\n\nLoad the Citi Bike data for 2018\n\ncitibike_2018 &lt;-\n  dir_ls(\"data/monthly_data\", glob = \"*.csv\") |&gt;\n  vroom()\n\nRows: 17548339 Columns: 15\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (3): start station name, end station name, usertype\ndbl  (10): tripduration, start station id, start station latitude, start sta...\ndttm  (2): starttime, stoptime\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nnrow(citibike_2018)\n\n[1] 17548339\n\nhead(citibike_2018)\n\n# A tibble: 6 × 15\n  tripduration starttime           stoptime            `start station id`\n         &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;                           &lt;dbl&gt;\n1          970 2018-01-01 13:50:57 2018-01-01 14:07:08                 72\n2          723 2018-01-01 15:33:30 2018-01-01 15:45:33                 72\n3          496 2018-01-01 15:39:18 2018-01-01 15:47:35                 72\n4          306 2018-01-01 15:40:13 2018-01-01 15:45:20                 72\n5          306 2018-01-01 18:14:51 2018-01-01 18:19:57                 72\n6         1602 2018-01-01 21:31:54 2018-01-01 21:58:36                 72\n# ℹ 11 more variables: `start station name` &lt;chr&gt;,\n#   `start station latitude` &lt;dbl&gt;, `start station longitude` &lt;dbl&gt;,\n#   `end station id` &lt;dbl&gt;, `end station name` &lt;chr&gt;,\n#   `end station latitude` &lt;dbl&gt;, `end station longitude` &lt;dbl&gt;, bikeid &lt;dbl&gt;,\n#   usertype &lt;chr&gt;, `birth year` &lt;dbl&gt;, gender &lt;dbl&gt;\n\n\nClean names and column types\n\ncitibike_2018 &lt;- citibike_2018 |&gt;\n  clean_names() |&gt;\n  mutate(\n    gender = factor(gender, levels = c(0, 1, 2), labels = c(\"Unknown\", \"Male\", \"Female\")),\n    usertype = factor(usertype),\n    across(ends_with(\"id\"), as.character)\n  )\n\nglimpse(citibike_2018)\n\nRows: 17,548,339\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nColumns: 15\n$ tripduration            &lt;dbl&gt; 970, 723, 496, 306, 306, 1602, 722, 434, 366, …\n$ starttime               &lt;dttm&gt; 2018-01-01 13:50:57, 2018-01-01 15:33:30, 201…\n$ stoptime                &lt;dttm&gt; 2018-01-01 14:07:08, 2018-01-01 15:45:33, 201…\n$ start_station_id        &lt;chr&gt; \"72\", \"72\", \"72\", \"72\", \"72\", \"72\", \"72\", \"72\"…\n$ start_station_name      &lt;chr&gt; \"W 52 St & 11 Ave\", \"W 52 St & 11 Ave\", \"W 52 …\n$ start_station_latitude  &lt;dbl&gt; 40.76727, 40.76727, 40.76727, 40.76727, 40.767…\n$ start_station_longitude &lt;dbl&gt; -73.99393, -73.99393, -73.99393, -73.99393, -7…\n$ end_station_id          &lt;chr&gt; \"505\", \"3255\", \"525\", \"447\", \"3356\", \"482\", \"2…\n$ end_station_name        &lt;chr&gt; \"6 Ave & W 33 St\", \"8 Ave & W 31 St\", \"W 34 St…\n$ end_station_latitude    &lt;dbl&gt; 40.74901, 40.75059, 40.75594, 40.76371, 40.774…\n$ end_station_longitude   &lt;dbl&gt; -73.98848, -73.99468, -74.00212, -73.98516, -7…\n$ bikeid                  &lt;chr&gt; \"31956\", \"32536\", \"16069\", \"31781\", \"30319\", \"…\n$ usertype                &lt;fct&gt; Subscriber, Subscriber, Subscriber, Subscriber…\n$ birth_year              &lt;dbl&gt; 1992, 1969, 1956, 1974, 1992, 1968, 1978, 1983…\n$ gender                  &lt;fct&gt; Male, Male, Male, Male, Male, Male, Male, Male…"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#create-calculated-variables",
    "href": "ST557_Citi_Bikes.html#create-calculated-variables",
    "title": "Final Project: Citi Bikes",
    "section": "Create calculated variables",
    "text": "Create calculated variables\n\ncitibike_2018 &lt;- citibike_2018 |&gt;\n  mutate(\n    day_of_week = lubridate::wday(starttime, label = TRUE),\n    weekday_weekend = factor(if_else(day_of_week %in% c(\"Sat\", \"Sun\"), \"Weekend\", \"Weekday\")),\n    hour_of_day = lubridate::hour(starttime),\n    time_of_day = case_when(\n      hour_of_day &gt;= 5 & hour_of_day &lt; 9 ~ \"Morning\",\n      hour_of_day &gt;= 9 & hour_of_day &lt; 12 ~ \"Late Morning\",\n      hour_of_day &gt;= 12 & hour_of_day &lt; 17 ~ \"Afternoon\",\n      hour_of_day &gt;= 17 & hour_of_day &lt; 21 ~ \"Evening\",\n      TRUE ~ \"Night\"\n    ),\n    time_of_day = factor(time_of_day, levels = c(\"Morning\", \"Late Morning\",\"Afternoon\", \"Evening\", \"Night\")),\n    apprx_age = 2018 - birth_year,\n    round_trip = if_else(start_station_id == end_station_id, TRUE, FALSE)\n  )"
  }
]