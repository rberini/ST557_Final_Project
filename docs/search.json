[
  {
    "objectID": "ST557_Citi_Bikes_Sample.html",
    "href": "ST557_Citi_Bikes_Sample.html",
    "title": "Final Project: Citi Bikes Sample",
    "section": "",
    "text": "The Citi Bike program is a bike-sharing system in New York City that allows users to rent bicycles for short trips around the city. The program has become increasingly popular since its launch in 2013, with millions of rides taken each year. In this project, we will analyze Citi Bike trip data for 2018 to gain insights into usage patterns, popular routes, and user profiles.\n\n\nThe data for this analysis is sourced from the Citi Bike system’s public data repository, which provides monthly trip data in CSV format. The dataset includes information such as trip duration, start and end stations, user type (subscriber or customer), and timestamps for each trip.\n\n\n\n\nstarttime: Timestamp for when the trip started (datetime)\nstoptime: Timestamp for when the trip ended (datetime)\ntripduration: Duration of the trip in seconds (numeric)\ntripduration_min: Duration of the trip in minutes (numeric, calculated from tripduration)\nday_of_week: Day of the week the trip started (ordered factor: Mon-Sun)\nweekday_weekend: Whether the trip occurred on a weekday or weekend (factor)\nhour_of_day: Hour of day when the trip started, 0-23 (integer)\ntime_of_day: Time period classification (ordered factor: Morning, Late Morning, Afternoon, Evening, Night)\nstart_station_id: Unique identifier for the starting station (character)\nstart_station_name: Name of the starting station (character)\nstart_station_latitude: Latitude coordinate of the starting station (numeric)\nstart_station_longitude: Longitude coordinate of the starting station (numeric)\nend_station_id: Unique identifier for the ending station (character)\nend_station_name: Name of the ending station (character)\nend_station_latitude: Latitude coordinate of the ending station (numeric)\nend_station_longitude: Longitude coordinate of the ending station (numeric)\nround_trip: Whether the trip started and ended at the same station (logical: TRUE/FALSE)\nbikeid: Unique identifier for the bike used (character)\nusertype: Type of user (factor: Subscriber or Customer)\nbirth_year: Self-reported birth year of the user (numeric)\napprox_age: Approximate age of the user in 2018 (numeric, calculated as 2018 - birth_year)\ngender: Self-reported gender of the user (factor: Male, Female, Unknown)"
  },
  {
    "objectID": "ST557_Citi_Bikes_Sample.html#introduction",
    "href": "ST557_Citi_Bikes_Sample.html#introduction",
    "title": "Final Project: Citi Bikes Sample",
    "section": "",
    "text": "The Citi Bike program is a bike-sharing system in New York City that allows users to rent bicycles for short trips around the city. The program has become increasingly popular since its launch in 2013, with millions of rides taken each year. In this project, we will analyze Citi Bike trip data for 2018 to gain insights into usage patterns, popular routes, and user profiles.\n\n\nThe data for this analysis is sourced from the Citi Bike system’s public data repository, which provides monthly trip data in CSV format. The dataset includes information such as trip duration, start and end stations, user type (subscriber or customer), and timestamps for each trip.\n\n\n\n\nstarttime: Timestamp for when the trip started (datetime)\nstoptime: Timestamp for when the trip ended (datetime)\ntripduration: Duration of the trip in seconds (numeric)\ntripduration_min: Duration of the trip in minutes (numeric, calculated from tripduration)\nday_of_week: Day of the week the trip started (ordered factor: Mon-Sun)\nweekday_weekend: Whether the trip occurred on a weekday or weekend (factor)\nhour_of_day: Hour of day when the trip started, 0-23 (integer)\ntime_of_day: Time period classification (ordered factor: Morning, Late Morning, Afternoon, Evening, Night)\nstart_station_id: Unique identifier for the starting station (character)\nstart_station_name: Name of the starting station (character)\nstart_station_latitude: Latitude coordinate of the starting station (numeric)\nstart_station_longitude: Longitude coordinate of the starting station (numeric)\nend_station_id: Unique identifier for the ending station (character)\nend_station_name: Name of the ending station (character)\nend_station_latitude: Latitude coordinate of the ending station (numeric)\nend_station_longitude: Longitude coordinate of the ending station (numeric)\nround_trip: Whether the trip started and ended at the same station (logical: TRUE/FALSE)\nbikeid: Unique identifier for the bike used (character)\nusertype: Type of user (factor: Subscriber or Customer)\nbirth_year: Self-reported birth year of the user (numeric)\napprox_age: Approximate age of the user in 2018 (numeric, calculated as 2018 - birth_year)\ngender: Self-reported gender of the user (factor: Male, Female, Unknown)"
  },
  {
    "objectID": "ST557_Citi_Bikes_Sample.html#data-loading-and-preparation",
    "href": "ST557_Citi_Bikes_Sample.html#data-loading-and-preparation",
    "title": "Final Project: Citi Bikes Sample",
    "section": "Data Loading and Preparation",
    "text": "Data Loading and Preparation\nLoad required packages\n\nlibrary(conflicted)\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(urbnthemes)\nlibrary(broom)\nlibrary(skimr)\nlibrary(psych)\nlibrary(infer)\n\nconflicts_prefer(\n  dplyr::filter,\n  urbnthemes::scale_fill_discrete\n)\n\noptions(\n  scipen = 999,\n  pillar.sigfig = 10\n  )\n\nset_urbn_defaults(style = \"print\")\n\nLoad the full transformed Citi Bike 2018 data (for reference)\n\ncitibike_2018 &lt;- readRDS(\"data/combined/citibike_2018_transformed.rds\")\n\nLoad the Citi Bike 2018 data sample\n\ncitibike_sample_2018 &lt;-\n  readRDS(\"data/sample/citibike_2018_sample_1000.rds\")\n\nglimpse(citibike_sample_2018)\n\nRows: 1,000\nColumns: 23\n$ tripduration            &lt;dbl&gt; 1034, 166, 308, 926, 802, 647, 754, 344, 489, …\n$ tripduration_min        &lt;dbl&gt; 17.233333, 2.766667, 5.133333, 15.433333, 13.3…\n$ starttime               &lt;dttm&gt; 2018-05-01 10:42:28, 2018-11-15 09:42:47, 201…\n$ stoptime                &lt;dttm&gt; 2018-05-01 10:59:42, 2018-11-15 09:45:34, 201…\n$ month                   &lt;ord&gt; May, Nov, Apr, Feb, Oct, May, Mar, Jul, Aug, O…\n$ day_of_week             &lt;ord&gt; Tue, Thu, Sun, Fri, Mon, Thu, Tue, Mon, Tue, S…\n$ weekday_weekend         &lt;fct&gt; Weekday, Weekday, Weekend, Weekday, Weekday, W…\n$ hour_of_day             &lt;int&gt; 10, 9, 10, 8, 18, 12, 13, 16, 18, 16, 20, 10, …\n$ time_of_day             &lt;ord&gt; Late Morning, Late Morning, Late Morning, Morn…\n$ start_station_id        &lt;chr&gt; \"361\", \"3415\", \"3107\", \"356\", \"3369\", \"3316\", …\n$ start_station_name      &lt;chr&gt; \"Allen St & Hester St\", \"Prospect Pl & 6 Ave\",…\n$ start_station_latitude  &lt;dbl&gt; 40.71606, 40.67933, 40.72312, 40.71623, 40.772…\n$ start_station_longitude &lt;dbl&gt; -73.99191, -73.97520, -73.95212, -73.98261, -7…\n$ end_station_id          &lt;chr&gt; \"167\", \"353\", \"3106\", \"3489\", \"2022\", \"3172\", …\n$ end_station_name        &lt;chr&gt; \"E 39 St & 3 Ave\", \"S Portland Ave & Hanson Pl…\n$ end_station_latitude    &lt;dbl&gt; 40.74890, 40.68540, 40.72325, 40.71070, 40.759…\n$ end_station_longitude   &lt;dbl&gt; -73.97605, -73.97431, -73.94308, -74.00354, -7…\n$ round_trip              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…\n$ bikeid                  &lt;chr&gt; \"30037\", \"28431\", \"20049\", \"17765\", \"34334\", \"…\n$ usertype                &lt;fct&gt; Subscriber, Subscriber, Subscriber, Subscriber…\n$ birth_year              &lt;dbl&gt; 1985, 1991, 1975, 1994, 1993, 1968, 1981, 1961…\n$ approx_age              &lt;dbl&gt; 33, 27, 43, 24, 25, 50, 37, 57, 30, 32, 27, 35…\n$ gender                  &lt;fct&gt; Male, Male, Male, Female, Female, Male, Male, …"
  },
  {
    "objectID": "ST557_Citi_Bikes_Sample.html#exploratory-data-analysis",
    "href": "ST557_Citi_Bikes_Sample.html#exploratory-data-analysis",
    "title": "Final Project: Citi Bikes Sample",
    "section": "Exploratory data analysis",
    "text": "Exploratory data analysis\n\nSummary statistics\n\ncitibike_sample_2018 |&gt;\n  summary()\n\n  tripduration     tripduration_min    starttime                  \n Min.   :   61.0   Min.   :  1.017   Min.   :2018-01-02 13:48:28  \n 1st Qu.:  336.8   1st Qu.:  5.612   1st Qu.:2018-05-01 18:20:57  \n Median :  553.0   Median :  9.217   Median :2018-07-20 13:34:32  \n Mean   :  748.6   Mean   : 12.477   Mean   :2018-07-14 12:57:25  \n 3rd Qu.:  900.5   3rd Qu.: 15.008   3rd Qu.:2018-09-28 13:17:00  \n Max.   :26751.0   Max.   :445.850   Max.   :2018-12-31 11:22:22  \n                                                                  \n    stoptime                       month     day_of_week weekday_weekend\n Min.   :2018-01-02 14:00:20   Jun    :109   Sun:110     Weekday:771    \n 1st Qu.:2018-05-01 18:59:39   Sep    :108   Mon:141     Weekend:229    \n Median :2018-07-20 13:37:57   Jul    :104   Tue:158                    \n Mean   :2018-07-14 13:09:54   Aug    :104   Wed:157                    \n 3rd Qu.:2018-09-28 13:34:09   Oct    : 96   Thu:158                    \n Max.   :2018-12-31 11:23:55   May    : 88   Fri:157                    \n                               (Other):391   Sat:119                    \n  hour_of_day          time_of_day  start_station_id   start_station_name\n Min.   : 0.00   Morning     :175   Length:1000        Length:1000       \n 1st Qu.:10.00   Late Morning:139   Class :character   Class :character  \n Median :15.00   Afternoon   :298   Mode  :character   Mode  :character  \n Mean   :13.99   Evening     :294                                        \n 3rd Qu.:18.00   Night       : 94                                        \n Max.   :23.00                                                           \n                                                                         \n start_station_latitude start_station_longitude end_station_id    \n Min.   :40.66          Min.   :-74.02          Length:1000       \n 1st Qu.:40.72          1st Qu.:-73.99          Class :character  \n Median :40.74          Median :-73.99          Mode  :character  \n Mean   :40.74          Mean   :-73.98                            \n 3rd Qu.:40.76          3rd Qu.:-73.97                            \n Max.   :40.81          Max.   :-73.91                            \n                                                                  \n end_station_name   end_station_latitude end_station_longitude round_trip     \n Length:1000        Min.   :40.66        Min.   :-74.02        Mode :logical  \n Class :character   1st Qu.:40.72        1st Qu.:-73.99        FALSE:985      \n Mode  :character   Median :40.74        Median :-73.99        TRUE :15       \n                    Mean   :40.74        Mean   :-73.98                       \n                    3rd Qu.:40.76        3rd Qu.:-73.97                       \n                    Max.   :40.81        Max.   :-73.91                       \n                                                                              \n    bikeid                usertype     birth_year     approx_age   \n Length:1000        Subscriber:955   Min.   :1941   Min.   :17.00  \n Class :character   Customer  : 45   1st Qu.:1971   1st Qu.:28.00  \n Mode  :character                    Median :1983   Median :35.00  \n                                     Mean   :1980   Mean   :38.04  \n                                     3rd Qu.:1990   3rd Qu.:47.00  \n                                     Max.   :2001   Max.   :77.00  \n                                                                   \n     gender   \n Unknown:  0  \n Male   :763  \n Female :237  \n              \n              \n              \n              \n\n\n\ncitibike_sample_2018 |&gt;\n  skim()\n\n\nData summary\n\n\nName\ncitibike_sample_2018\n\n\nNumber of rows\n1000\n\n\nNumber of columns\n23\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n5\n\n\nfactor\n6\n\n\nlogical\n1\n\n\nnumeric\n9\n\n\nPOSIXct\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstart_station_id\n0\n1\n2\n4\n0\n458\n0\n\n\nstart_station_name\n0\n1\n12\n45\n0\n457\n0\n\n\nend_station_id\n0\n1\n2\n4\n0\n457\n0\n\n\nend_station_name\n0\n1\n9\n45\n0\n456\n0\n\n\nbikeid\n0\n1\n5\n5\n0\n956\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nmonth\n0\n1\nTRUE\n12\nJun: 109, Sep: 108, Jul: 104, Aug: 104\n\n\nday_of_week\n0\n1\nTRUE\n7\nTue: 158, Thu: 158, Wed: 157, Fri: 157\n\n\nweekday_weekend\n0\n1\nFALSE\n2\nWee: 771, Wee: 229\n\n\ntime_of_day\n0\n1\nTRUE\n5\nAft: 298, Eve: 294, Mor: 175, Lat: 139\n\n\nusertype\n0\n1\nFALSE\n2\nSub: 955, Cus: 45\n\n\ngender\n0\n1\nFALSE\n2\nMal: 763, Fem: 237, Unk: 0\n\n\n\nVariable type: logical\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\ncount\n\n\n\n\nround_trip\n0\n1\n0.01\nFAL: 985, TRU: 15\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ntripduration\n0\n1\n748.61\n1042.63\n61.00\n336.75\n553.00\n900.50\n26751.00\n▇▁▁▁▁\n\n\ntripduration_min\n0\n1\n12.48\n17.38\n1.02\n5.61\n9.22\n15.01\n445.85\n▇▁▁▁▁\n\n\nhour_of_day\n0\n1\n13.99\n4.91\n0.00\n10.00\n15.00\n18.00\n23.00\n▁▅▃▇▃\n\n\nstart_station_latitude\n0\n1\n40.74\n0.03\n40.66\n40.72\n40.74\n40.76\n40.81\n▂▃▇▅▁\n\n\nstart_station_longitude\n0\n1\n-73.98\n0.02\n-74.02\n-73.99\n-73.99\n-73.97\n-73.91\n▃▇▃▂▁\n\n\nend_station_latitude\n0\n1\n40.74\n0.03\n40.66\n40.72\n40.74\n40.76\n40.81\n▂▃▇▅▁\n\n\nend_station_longitude\n0\n1\n-73.98\n0.02\n-74.02\n-73.99\n-73.99\n-73.97\n-73.91\n▃▇▃▁▁\n\n\nbirth_year\n0\n1\n1979.96\n12.01\n1941.00\n1971.00\n1983.00\n1990.00\n2001.00\n▁▃▅▇▅\n\n\napprox_age\n0\n1\n38.04\n12.01\n17.00\n28.00\n35.00\n47.00\n77.00\n▇▇▅▃▁\n\n\n\nVariable type: POSIXct\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\nstarttime\n0\n1\n2018-01-02 13:48:28\n2018-12-31 11:22:22\n2018-07-20 13:34:32\n1000\n\n\nstoptime\n0\n1\n2018-01-02 14:00:20\n2018-12-31 11:23:55\n2018-07-20 13:37:57\n1000\n\n\n\n\n\n\n\nTrip duration analysis\n\ncitibike_sample_2018 |&gt;\n  select(tripduration_min) |&gt;\n  describe()\n\n                 vars    n  mean    sd median trimmed  mad  min    max  range\ntripduration_min    1 1000 12.48 17.38   9.22   10.41 6.52 1.02 445.85 444.83\n                  skew kurtosis   se\ntripduration_min 16.52   389.84 0.55\n\n\n\ncitibike_sample_2018 |&gt;\n  ggplot(aes(x = tripduration_min)) +\n  geom_density() +\n  labs(\n    title = \"Distribution of Trip Durations\",\n    x = \"Trip Duration (minutes)\",\n    y = \"Density\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\ncitibike_sample_2018 |&gt;\n  ggplot(aes(x = tripduration_min)) +\n  geom_density() +\n  labs(\n    title = \"Distribution of Trip Durations\",\n    x = \"Trip Duration (minutes)\",\n    y = \"Density\"\n  ) +\n  xlim(0, 60) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\nBootstrap confidence interval for mean trip duration\n\nset.seed(557)\n\ncitibike_sample_2018 |&gt;\n  slice_sample(n = nrow(citibike_sample_2018), replace = TRUE) |&gt;\n  pull(tripduration_min) |&gt;\n  mean(na.rm = TRUE)\n\n[1] 12.56418\n\n\n\nset.seed(557)\n\nboot_dist_1 &lt;- citibike_sample_2018 |&gt;\n  specify(response = tripduration_min) |&gt;\n  generate(reps = 1, type = \"bootstrap\") |&gt;\n  calculate(stat = \"mean\")\n\nprint(boot_dist_1)\n\nResponse: tripduration_min (numeric)\n# A tibble: 1 × 1\n         stat\n        &lt;dbl&gt;\n1 12.56418333\n\nboot_dist_1 |&gt;\n  ggplot(aes(x = stat)) +\n  geom_dotplot(binwidth = 0.1, fill = \"#1696d2\", stroke = 0) +\n  theme_minimal() +\n  xlim(10, 16) +\n  labs(x = \"Bootstrap Mean Trip Duration\", y = \"\") +\n  theme(axis.text.y = element_blank(),\n      axis.ticks.y = element_blank(),\n      panel.grid.minor = element_blank()\n      )\n\n\n\n\n\n\n\n\n\nset.seed(557)\n\nboot_dist_10 &lt;- citibike_sample_2018 |&gt;\n  specify(response = tripduration_min) |&gt;\n  generate(reps = 10, type = \"bootstrap\") |&gt;\n  calculate(stat = \"mean\")\n\nprint(boot_dist_10)\n\nResponse: tripduration_min (numeric)\n# A tibble: 10 × 2\n   replicate        stat\n       &lt;int&gt;       &lt;dbl&gt;\n 1         1 12.56418333\n 2         2 12.6653    \n 3         3 12.63868333\n 4         4 12.27995   \n 5         5 13.2369    \n 6         6 12.38261667\n 7         7 12.23016667\n 8         8 11.41803333\n 9         9 12.26963333\n10        10 12.17411667\n\nboot_dist_10 |&gt;\n  ggplot(aes(x = stat)) +\n  geom_dotplot(binwidth = 0.1, fill = \"#1696d2\", stroke = 0) +\n  theme_minimal() +\n  xlim(10, 16) +\n  labs(x = \"Bootstrap Mean Trip Duration\", y = \"\") +\n  theme(axis.text.y = element_blank(),\n      axis.ticks.y = element_blank(),\n      panel.grid.minor = element_blank()\n      )\n\n\n\n\n\n\n\n\n\nset.seed(557)\n\nboot_dist_1000 &lt;- citibike_sample_2018 |&gt;\n  specify(response = tripduration_min) |&gt;\n  generate(reps = 1000, type = \"bootstrap\") |&gt;\n  calculate(stat = \"mean\")\n\nboot_dist_1000 |&gt;\n  ggplot(aes(x = stat)) +\n  geom_dotplot(binwidth = 0.1, dotsize = .45, fill = \"#1696d2\", stroke = 0) +\n  theme_minimal() +\n  xlim(10, 16) +\n  labs(x = \"Bootstrap Mean Trip Duration\", y = \"\") +\n  theme(axis.text.y = element_blank(),\n      axis.ticks.y = element_blank(),\n      panel.grid.minor = element_blank()\n      )\n\n\n\n\n\n\n\n\n\nboot_ci &lt;- boot_dist_1000 |&gt;\n  get_confidence_interval(level = 0.95, type = \"percentile\")\n\nprint(boot_ci)\n\n# A tibble: 1 × 2\n     lower_ci    upper_ci\n        &lt;dbl&gt;       &lt;dbl&gt;\n1 11.53287042 13.66787833\n\nboot_dist_1000 |&gt;\n  visualize(bins = 100, fill = \"#1696d2\", stroke = 0) +\n  shade_confidence_interval(endpoints = boot_ci, fill = \"#fdbf11\", color = \"#fdbf11\") +\n  theme_minimal() +\n  xlim(10, 16) +\n  labs(x = \"Bootstrap Mean Trip Duration\", y = \"\") +\n  theme(axis.text.y = element_blank(),\n      axis.ticks.y = element_blank(),\n      panel.grid.minor = element_blank()\n      )\n\n\n\n\n\n\n\n\n\n\nMathematical confidence interval for mean trip duration\n\ncitibike_sample_2018 |&gt;\n  select(tripduration_min) |&gt;\n  t.test(conf.level = 0.95) |&gt;\n  tidy()\n\n# A tibble: 1 × 8\n  estimate   statistic         p.value parameter    conf.low   conf.high method \n     &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  \n1 12.47675 22.70511189 2.347020611e-92       999 11.39841822 13.55508178 One Sa…\n# ℹ 1 more variable: alternative &lt;chr&gt;\n\n\n\n\nComparison of bootstrap and mathematical confidence intervals\n\npop_mean &lt;- mean(citibike_2018$tripduration_min, na.rm = TRUE)\n\nboot_mean &lt;- mean(boot_dist_1000$stat)\n\nt_result &lt;- citibike_sample_2018 |&gt;\n  select(tripduration_min) |&gt;\n  t.test(conf.level = 0.95) |&gt;\n  tidy()\n\ntibble(\n  Method = c(\"Population (True)\", \"Bootstrap\", \"T-test\"),\n  Mean = c(pop_mean, boot_mean, t_result$estimate),\n  Lower_CI = c(NA, boot_ci$lower_ci, t_result$conf.low),\n  Upper_CI = c(NA, boot_ci$upper_ci, t_result$conf.high)\n)\n\n# A tibble: 3 × 4\n  Method                   Mean    Lower_CI    Upper_CI\n  &lt;chr&gt;                   &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;\n1 Population (True) 13.21229398 NA          NA         \n2 Bootstrap         12.46565138 11.53287042 13.66787833\n3 T-test            12.47675    11.39841822 13.55508178\n\n\n\n\nBivariate analysis: Trip duration by user type\n\ncitibike_sample_2018 |&gt;\n  ggplot(aes(x = tripduration_min, fill = usertype)) +\n  geom_density(alpha = 0.5) +\n  labs(\n    title = \"Distribution of Trip Durations by User Type\",\n    x = \"Trip Duration (minutes)\",\n    y = \"Density\",\n    fill = \"User Type\"\n  ) +\n  xlim(0, 60) +\n  theme_minimal() +\n  remove_ticks()\n\n\n\n\n\n\n\n\n\ncitibike_sample_2018 |&gt;\n  group_by(usertype) |&gt;\n  summarize(mean_duration = mean(tripduration_min, na.rm = TRUE)) |&gt;\n  ggplot(aes(x = usertype, y = mean_duration, fill = usertype)) +\n  urbnthemes::geom_col(show.legend = FALSE) +\n  labs(\n    title = \"Mean Trip Duration by User Type\",\n    x = \"\",\n    y = \"Mean Trip Duration (minutes)\"\n  ) +\n  coord_flip() +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\ncitibike_sample_2018 |&gt;\n  ggplot(aes(x = weekday_weekend, y = tripduration_min, fill = weekday_weekend)) +\n  geom_boxplot(show.legend = FALSE, outlier.shape = NA) +\n  stat_summary(\n    fun = mean, \n    geom = \"point\", \n    shape = 23,\n    size = 4, \n    fill = \"#db2b27\",\n    color = \"#000000\",\n    show.legend = FALSE\n    ) +\n  labs(\n    title = \"Trip Duration Distribution by Week Part\",\n    x = \"\",\n    y = \"Trip Duration (minutes)\"\n  ) +\n  coord_flip(ylim = c(0, 30)) +\n  theme_minimal()"
  },
  {
    "objectID": "ST557_Citi_Bikes.html",
    "href": "ST557_Citi_Bikes.html",
    "title": "Final Project: Citi Bikes",
    "section": "",
    "text": "The Citi Bike program is a bike-sharing system in New York City that allows users to rent bicycles for short trips around the city. The program has become increasingly popular since its launch in 2013, with millions of rides taken each year. In this project, we will analyze Citi Bike trip data for 2018 to gain insights into usage patterns, popular routes, and user profiles.\n\n\nThe data for this analysis is sourced from the Citi Bike system’s public data repository, which provides monthly trip data in CSV format. The dataset includes information such as trip duration, start and end stations, user type (subscriber or customer), and timestamps for each trip.\n\n\n\n\ntripduration: Duration of the trip in seconds\nstarttime: Timestamp for when the trip started\nstoptime: Timestamp for when the trip ended\nstart station id: Unique identifier for the starting station\nstart station name: Name of the starting station\nend station id: Unique identifier for the ending station\nend station name: Name of the ending station\nbikeid: Unique identifier for the bike used\nusertype: Type of user (Subscriber or Customer)\nbirth year: Birth year of the user\ngender: Gender of the user"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#introduction",
    "href": "ST557_Citi_Bikes.html#introduction",
    "title": "Final Project: Citi Bikes",
    "section": "",
    "text": "The Citi Bike program is a bike-sharing system in New York City that allows users to rent bicycles for short trips around the city. The program has become increasingly popular since its launch in 2013, with millions of rides taken each year. In this project, we will analyze Citi Bike trip data for 2018 to gain insights into usage patterns, popular routes, and user profiles.\n\n\nThe data for this analysis is sourced from the Citi Bike system’s public data repository, which provides monthly trip data in CSV format. The dataset includes information such as trip duration, start and end stations, user type (subscriber or customer), and timestamps for each trip.\n\n\n\n\ntripduration: Duration of the trip in seconds\nstarttime: Timestamp for when the trip started\nstoptime: Timestamp for when the trip ended\nstart station id: Unique identifier for the starting station\nstart station name: Name of the starting station\nend station id: Unique identifier for the ending station\nend station name: Name of the ending station\nbikeid: Unique identifier for the bike used\nusertype: Type of user (Subscriber or Customer)\nbirth year: Birth year of the user\ngender: Gender of the user"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#data-loading-and-preparation",
    "href": "ST557_Citi_Bikes.html#data-loading-and-preparation",
    "title": "Final Project: Citi Bikes",
    "section": "Data Loading and Preparation",
    "text": "Data Loading and Preparation\nLoad required packages\n\nlibrary(conflicted)\nlibrary(tidyverse)\nlibrary(fs)\nlibrary(vroom)\nlibrary(janitor)\nlibrary(urbnthemes)\nlibrary(skimr)\n\nconflicts_prefer(dplyr::filter)\n\noptions(\n  scipen = 999,\n  pillar.sigfig = 10\n  )\n\nset_urbn_defaults(style = \"print\")\n\nLoad the Citi Bike data for 2018\n\ncitibike_2018_raw &lt;-\n  dir_ls(\"data/monthly\", glob = \"*.csv\") |&gt;\n  vroom()\n\nnrow(citibike_2018_raw)\n\n[1] 17548339\n\nhead(citibike_2018_raw)\n\n# A tibble: 6 × 15\n  tripduration starttime           stoptime            `start station id`\n         &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;                           &lt;dbl&gt;\n1          970 2018-01-01 13:50:57 2018-01-01 14:07:08                 72\n2          723 2018-01-01 15:33:30 2018-01-01 15:45:33                 72\n3          496 2018-01-01 15:39:18 2018-01-01 15:47:35                 72\n4          306 2018-01-01 15:40:13 2018-01-01 15:45:20                 72\n5          306 2018-01-01 18:14:51 2018-01-01 18:19:57                 72\n6         1602 2018-01-01 21:31:54 2018-01-01 21:58:36                 72\n# ℹ 11 more variables: `start station name` &lt;chr&gt;,\n#   `start station latitude` &lt;dbl&gt;, `start station longitude` &lt;dbl&gt;,\n#   `end station id` &lt;dbl&gt;, `end station name` &lt;chr&gt;,\n#   `end station latitude` &lt;dbl&gt;, `end station longitude` &lt;dbl&gt;, bikeid &lt;dbl&gt;,\n#   usertype &lt;chr&gt;, `birth year` &lt;dbl&gt;, gender &lt;dbl&gt;\n\n\nClean names and column types\n\ncitibike_2018 &lt;- citibike_2018_raw |&gt;\n  clean_names() |&gt;\n  mutate(\n    gender = factor(gender, levels = c(0, 1, 2), labels = c(\"Unknown\", \"Male\", \"Female\")),\n    usertype = factor(usertype),\n    across(ends_with(\"id\"), as.character)\n  )\n\nglimpse(citibike_2018)\n\nRows: 17,548,339\n\n\nColumns: 15\n$ tripduration            &lt;dbl&gt; 970, 723, 496, 306, 306, 1602, 722, 434, 366, …\n$ starttime               &lt;dttm&gt; 2018-01-01 13:50:57, 2018-01-01 15:33:30, 201…\n$ stoptime                &lt;dttm&gt; 2018-01-01 14:07:08, 2018-01-01 15:45:33, 201…\n$ start_station_id        &lt;chr&gt; \"72\", \"72\", \"72\", \"72\", \"72\", \"72\", \"72\", \"72\"…\n$ start_station_name      &lt;chr&gt; \"W 52 St & 11 Ave\", \"W 52 St & 11 Ave\", \"W 52 …\n$ start_station_latitude  &lt;dbl&gt; 40.76727, 40.76727, 40.76727, 40.76727, 40.767…\n$ start_station_longitude &lt;dbl&gt; -73.99393, -73.99393, -73.99393, -73.99393, -7…\n$ end_station_id          &lt;chr&gt; \"505\", \"3255\", \"525\", \"447\", \"3356\", \"482\", \"2…\n$ end_station_name        &lt;chr&gt; \"6 Ave & W 33 St\", \"8 Ave & W 31 St\", \"W 34 St…\n$ end_station_latitude    &lt;dbl&gt; 40.74901, 40.75059, 40.75594, 40.76371, 40.774…\n$ end_station_longitude   &lt;dbl&gt; -73.98848, -73.99468, -74.00212, -73.98516, -7…\n$ bikeid                  &lt;chr&gt; \"31956\", \"32536\", \"16069\", \"31781\", \"30319\", \"…\n$ usertype                &lt;fct&gt; Subscriber, Subscriber, Subscriber, Subscriber…\n$ birth_year              &lt;dbl&gt; 1992, 1969, 1956, 1974, 1992, 1968, 1978, 1983…\n$ gender                  &lt;fct&gt; Male, Male, Male, Male, Male, Male, Male, Male…"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#create-calculated-variables",
    "href": "ST557_Citi_Bikes.html#create-calculated-variables",
    "title": "Final Project: Citi Bikes",
    "section": "Create calculated variables",
    "text": "Create calculated variables\n\ncitibike_2018 &lt;- citibike_2018 |&gt;\n  mutate(\n    tripduration_min = tripduration / 60,\n    month = month(starttime, label = TRUE),\n    day_of_week = wday(starttime, label = TRUE),\n    weekday_weekend = factor(if_else(\n      day_of_week %in% c(\"Sat\", \"Sun\"), \"Weekend\", \"Weekday\"\n    )),\n    hour_of_day = hour(starttime),\n    time_of_day = case_when(\n      hour_of_day &gt;= 5 & hour_of_day &lt; 9 ~ \"Morning\",\n      hour_of_day &gt;= 9 & hour_of_day &lt; 12 ~ \"Late Morning\",\n      hour_of_day &gt;= 12 & hour_of_day &lt; 17 ~ \"Afternoon\",\n      hour_of_day &gt;= 17 & hour_of_day &lt; 21 ~ \"Evening\",\n      TRUE ~ \"Night\"\n    ),\n    time_of_day = factor(\n      time_of_day,\n      levels = c(\"Morning\", \"Late Morning\", \"Afternoon\", \"Evening\", \"Night\"),\n      ordered = TRUE\n    ),\n    approx_age = 2018 - birth_year,\n    round_trip = if_else(start_station_id == end_station_id, TRUE, FALSE),\n    usertype = fct_rev(usertype)\n  )"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#reorder-columns-for-easier-viewing",
    "href": "ST557_Citi_Bikes.html#reorder-columns-for-easier-viewing",
    "title": "Final Project: Citi Bikes",
    "section": "Reorder columns for easier viewing",
    "text": "Reorder columns for easier viewing\n\ncitibike_2018 &lt;- citibike_2018 |&gt;\n  relocate(\n    tripduration,\n    tripduration_min,\n    starttime,\n    stoptime,\n    month,\n    day_of_week,\n    weekday_weekend,\n    hour_of_day,\n    time_of_day,\n    start_station_id,\n    start_station_name,\n    start_station_latitude,\n    start_station_longitude,\n    end_station_id,\n    end_station_name,\n    end_station_latitude,\n    end_station_longitude,\n    round_trip,\n    bikeid,\n    usertype,\n    birth_year,\n    approx_age,\n    gender\n  )"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#exploratory-data-analysis",
    "href": "ST557_Citi_Bikes.html#exploratory-data-analysis",
    "title": "Final Project: Citi Bikes",
    "section": "Exploratory data analysis",
    "text": "Exploratory data analysis\n\nSummary parameters\n\nsummary(citibike_2018)\n\n  tripduration        tripduration_min      starttime                  \n Min.   :      61.0   Min.   :     1.02   Min.   :2018-01-01 00:01:50  \n 1st Qu.:     358.0   1st Qu.:     5.97   1st Qu.:2018-05-08 21:14:05  \n Median :     605.0   Median :    10.08   Median :2018-07-19 16:46:36  \n Mean   :     988.7   Mean   :    16.48   Mean   :2018-07-16 04:41:19  \n 3rd Qu.:    1060.0   3rd Qu.:    17.67   3rd Qu.:2018-09-27 14:52:05  \n Max.   :19510049.0   Max.   :325167.48   Max.   :2018-12-31 23:59:51  \n                                                                       \n    stoptime                       month         day_of_week  \n Min.   :2018-01-01 00:05:07   Aug    :1977177   Sun:1985040  \n 1st Qu.:2018-05-08 21:31:18   Jun    :1953103   Mon:2535365  \n Median :2018-07-19 17:03:37   Jul    :1913625   Tue:2699319  \n Mean   :2018-07-16 04:57:48   Oct    :1878657   Wed:2737696  \n 3rd Qu.:2018-09-27 15:07:04   Sep    :1877884   Thu:2738252  \n Max.   :2019-01-08 08:39:45   May    :1824710   Fri:2602411  \n                               (Other):6123183   Sat:2250256  \n weekday_weekend     hour_of_day          time_of_day      start_station_id  \n Weekday:13313043   Min.   : 0.00   Morning     :2716502   Length:17548339   \n Weekend: 4235296   1st Qu.:10.00   Late Morning:2724474   Class :character  \n                    Median :15.00   Afternoon   :5302883   Mode  :character  \n                    Mean   :13.89   Evening     :5234605                     \n                    3rd Qu.:18.00   Night       :1569875                     \n                    Max.   :23.00                                            \n                                                                             \n start_station_name start_station_latitude start_station_longitude\n Length:17548339    Min.   :40.65          Min.   :-74.03         \n Class :character   1st Qu.:40.72          1st Qu.:-74.00         \n Mode  :character   Median :40.74          Median :-73.99         \n                    Mean   :40.74          Mean   :-73.98         \n                    3rd Qu.:40.76          3rd Qu.:-73.97         \n                    Max.   :45.51          Max.   :-73.57         \n                                                                  \n end_station_id     end_station_name   end_station_latitude\n Length:17548339    Length:17548339    Min.   :40.65       \n Class :character   Class :character   1st Qu.:40.72       \n Mode  :character   Mode  :character   Median :40.74       \n                                       Mean   :40.74       \n                                       3rd Qu.:40.76       \n                                       Max.   :45.51       \n                                                           \n end_station_longitude round_trip          bikeid         \n Min.   :-74.08        Mode :logical    Length:17548339   \n 1st Qu.:-74.00        FALSE:17198742   Class :character  \n Median :-73.99        TRUE :347100     Mode  :character  \n Mean   :-73.98        NA's :2497                         \n 3rd Qu.:-73.97                                           \n Max.   :-73.57                                           \n                                                          \n       usertype          birth_year     approx_age         gender        \n Subscriber:15614825   Min.   :1885   Min.   : 16.00   Unknown: 1484555  \n Customer  : 1933514   1st Qu.:1969   1st Qu.: 29.00   Male   :11971322  \n                       Median :1981   Median : 37.00   Female : 4092462  \n                       Mean   :1979   Mean   : 39.01                     \n                       3rd Qu.:1989   3rd Qu.: 49.00                     \n                       Max.   :2002   Max.   :133.00                     \n                                                                         \n\n\n\ncitibike_2018 |&gt;\n  skim()\n\n\nData summary\n\n\nName\ncitibike_2018\n\n\nNumber of rows\n17548339\n\n\nNumber of columns\n23\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n5\n\n\nfactor\n6\n\n\nlogical\n1\n\n\nnumeric\n9\n\n\nPOSIXct\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstart_station_id\n2497\n1\n2\n4\n0\n818\n0\n\n\nstart_station_name\n0\n1\n4\n46\n0\n822\n0\n\n\nend_station_id\n2497\n1\n2\n4\n0\n850\n0\n\n\nend_station_name\n0\n1\n4\n46\n0\n854\n0\n\n\nbikeid\n0\n1\n5\n5\n0\n15244\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nmonth\n0\n1\nTRUE\n12\nAug: 1977177, Jun: 1953103, Jul: 1913625, Oct: 1878657\n\n\nday_of_week\n0\n1\nTRUE\n7\nThu: 2738252, Wed: 2737696, Tue: 2699319, Fri: 2602411\n\n\nweekday_weekend\n0\n1\nFALSE\n2\nWee: 13313043, Wee: 4235296\n\n\ntime_of_day\n0\n1\nTRUE\n5\nAft: 5302883, Eve: 5234605, Lat: 2724474, Mor: 2716502\n\n\nusertype\n0\n1\nFALSE\n2\nSub: 15614825, Cus: 1933514\n\n\ngender\n0\n1\nFALSE\n3\nMal: 11971322, Fem: 4092462, Unk: 1484555\n\n\n\nVariable type: logical\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\ncount\n\n\n\n\nround_trip\n2497\n1\n0.02\nFAL: 17198742, TRU: 347100\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ntripduration\n0\n1\n988.74\n18895.84\n61.00\n358.00\n605.00\n1060.00\n19510049.00\n▇▁▁▁▁\n\n\ntripduration_min\n0\n1\n16.48\n314.93\n1.02\n5.97\n10.08\n17.67\n325167.48\n▇▁▁▁▁\n\n\nhour_of_day\n0\n1\n13.89\n4.85\n0.00\n10.00\n15.00\n18.00\n23.00\n▁▅▅▇▃\n\n\nstart_station_latitude\n0\n1\n40.74\n0.03\n40.65\n40.72\n40.74\n40.76\n45.51\n▇▁▁▁▁\n\n\nstart_station_longitude\n0\n1\n-73.98\n0.02\n-74.03\n-74.00\n-73.99\n-73.97\n-73.57\n▇▁▁▁▁\n\n\nend_station_latitude\n0\n1\n40.74\n0.03\n40.65\n40.72\n40.74\n40.76\n45.51\n▇▁▁▁▁\n\n\nend_station_longitude\n0\n1\n-73.98\n0.02\n-74.08\n-74.00\n-73.99\n-73.97\n-73.57\n▇▅▁▁▁\n\n\nbirth_year\n0\n1\n1978.99\n11.93\n1885.00\n1969.00\n1981.00\n1989.00\n2002.00\n▁▁▁▆▇\n\n\napprox_age\n0\n1\n39.01\n11.93\n16.00\n29.00\n37.00\n49.00\n133.00\n▇▆▁▁▁\n\n\n\nVariable type: POSIXct\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\nstarttime\n0\n1\n2018-01-01 00:01:50\n2018-12-31 23:59:51\n2018-07-19 16:46:36\n17539104\n\n\nstoptime\n0\n1\n2018-01-01 00:05:07\n2019-01-08 08:39:45\n2018-07-19 17:03:37\n17539219\n\n\n\n\n\n\n\nTrip duration density plot (excluding extreme values)\n\ncitibike_2018 |&gt;\n  filter(tripduration_min &lt; 2880) |&gt;\n  ggplot(aes(x = tripduration_min)) +\n  geom_density() +\n  labs(title = \"Distribution of Trip Duration\", \n       x = \"Duration (minutes)\", \n       y = \"Density\")\n\n\n\n\n\n\n\n\n\n\nZoom in on trip duration\n\ncitibike_2018 |&gt;\n  ggplot(aes(x = tripduration_min)) +\n  geom_density() +\n  labs(\n    title = \"Distribution of Trip Durations\",\n    x = \"Trip Duration (minutes)\",\n    y = \"Density\"\n  ) +\n  xlim(0, 60) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\nAge distribution\n\nggplot(citibike_2018, aes(x = approx_age)) +\n  geom_density() +\n  labs(title = \"Distribution of Age\", \n       x = \"Age (years)\", \n       y = \"Density\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\ncitibike_2018 |&gt;\n  ggplot(aes(x = birth_year)) +\n  geom_histogram(binwidth = 1) +\n  labs(title = \"Distribution of Birth Years\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\ncitibike_2018 |&gt;\n  count(birth_year, sort = TRUE) |&gt;\n  slice(1) |&gt;\n  pull(birth_year)\n\n[1] 1969\n\n\n\ncitibike_2018 |&gt;\n  filter(\n    !is.na(round_trip),\n    !is.na(birth_year),\n    birth_year &gt;= 1918,\n    tripduration_min &lt;= 2880,\n    gender != \"Unknown\"\n  ) |&gt;\n  ggplot(aes(x = birth_year)) +\n  geom_histogram(binwidth = 1) +\n  labs(title = \"Distribution of Birth Years\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\ncitibike_2018 |&gt;\n  filter(\n    !is.na(round_trip),\n    !is.na(birth_year),\n    birth_year &gt;= 1918,\n    tripduration_min &lt;= 2880,\n    gender != \"Unknown\"\n  ) |&gt;\n  summary()\n\n  tripduration      tripduration_min     starttime                  \n Min.   :    61.0   Min.   :   1.017   Min.   :2018-01-01 00:01:50  \n 1st Qu.:   347.0   1st Qu.:   5.783   1st Qu.:2018-05-08 08:34:52  \n Median :   575.0   Median :   9.583   Median :2018-07-20 08:25:19  \n Mean   :   792.7   Mean   :  13.212   Mean   :2018-07-16 10:52:59  \n 3rd Qu.:   984.0   3rd Qu.:  16.400   3rd Qu.:2018-09-29 12:32:19  \n Max.   :172782.0   Max.   :2879.700   Max.   :2018-12-31 23:59:51  \n                                                                    \n    stoptime                       month         day_of_week  \n Min.   :2018-01-01 00:05:07   Aug    :1769633   Sun:1707997  \n 1st Qu.:2018-05-08 08:49:09   Oct    :1752022   Mon:2351737  \n Median :2018-07-20 08:39:03   Jun    :1749891   Tue:2535709  \n Mean   :2018-07-16 11:06:12   Sep    :1702898   Wed:2565781  \n 3rd Qu.:2018-09-29 12:48:56   Jul    :1701736   Thu:2560931  \n Max.   :2019-01-02 13:22:10   May    :1623528   Fri:2402305  \n                               (Other):5750810   Sat:1926058  \n weekday_weekend     hour_of_day          time_of_day      start_station_id  \n Weekday:12416463   Min.   : 0.00   Morning     :2634345   Length:16050518   \n Weekend: 3634055   1st Qu.:10.00   Late Morning:2483236   Class :character  \n                    Median :14.00   Afternoon   :4646409   Mode  :character  \n                    Mean   :13.85   Evening     :4845483                     \n                    3rd Qu.:18.00   Night       :1441045                     \n                    Max.   :23.00                                            \n                                                                             \n start_station_name start_station_latitude start_station_longitude\n Length:16050518    Min.   :40.65          Min.   :-74.03         \n Class :character   1st Qu.:40.72          1st Qu.:-74.00         \n Mode  :character   Median :40.74          Median :-73.99         \n                    Mean   :40.74          Mean   :-73.98         \n                    3rd Qu.:40.76          3rd Qu.:-73.97         \n                    Max.   :45.51          Max.   :-73.57         \n                                                                  \n end_station_id     end_station_name   end_station_latitude\n Length:16050518    Length:16050518    Min.   :40.65       \n Class :character   Class :character   1st Qu.:40.72       \n Mode  :character   Mode  :character   Median :40.74       \n                                       Mean   :40.74       \n                                       3rd Qu.:40.76       \n                                       Max.   :45.51       \n                                                           \n end_station_longitude round_trip          bikeid         \n Min.   :-74.08        Mode :logical    Length:16050518   \n 1st Qu.:-74.00        FALSE:15785257   Class :character  \n Median :-73.99        TRUE :265261     Mode  :character  \n Mean   :-73.98                                           \n 3rd Qu.:-73.97                                           \n Max.   :-73.57                                           \n                                                          \n       usertype          birth_year     approx_age         gender        \n Subscriber:15298505   Min.   :1918   Min.   : 16.00   Unknown:       0  \n Customer  :  752013   1st Qu.:1972   1st Qu.: 29.00   Male   :11959708  \n                       Median :1983   Median : 35.00   Female : 4090810  \n                       Mean   :1980   Mean   : 38.11                     \n                       3rd Qu.:1989   3rd Qu.: 46.00                     \n                       Max.   :2002   Max.   :100.00                     \n                                                                         \n\n\n\ncitibike_2018 |&gt;\n  filter(\n    !is.na(round_trip),\n    !is.na(birth_year),\n    birth_year &gt;= 1918,\n    tripduration_min &lt;= 2880,\n    gender != \"Unknown\"\n  ) |&gt;\n  skim()\n\n\nData summary\n\n\nName\nfilter(…)\n\n\nNumber of rows\n16050518\n\n\nNumber of columns\n23\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n5\n\n\nfactor\n6\n\n\nlogical\n1\n\n\nnumeric\n9\n\n\nPOSIXct\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstart_station_id\n0\n1\n2\n4\n0\n818\n0\n\n\nstart_station_name\n0\n1\n6\n46\n0\n821\n0\n\n\nend_station_id\n0\n1\n2\n4\n0\n846\n0\n\n\nend_station_name\n0\n1\n6\n46\n0\n849\n0\n\n\nbikeid\n0\n1\n5\n5\n0\n15010\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nmonth\n0\n1\nTRUE\n12\nAug: 1769633, Oct: 1752022, Jun: 1749891, Sep: 1702898\n\n\nday_of_week\n0\n1\nTRUE\n7\nWed: 2565781, Thu: 2560931, Tue: 2535709, Fri: 2402305\n\n\nweekday_weekend\n0\n1\nFALSE\n2\nWee: 12416463, Wee: 3634055\n\n\ntime_of_day\n0\n1\nTRUE\n5\nEve: 4845483, Aft: 4646409, Mor: 2634345, Lat: 2483236\n\n\nusertype\n0\n1\nFALSE\n2\nSub: 15298505, Cus: 752013\n\n\ngender\n0\n1\nFALSE\n2\nMal: 11959708, Fem: 4090810, Unk: 0\n\n\n\nVariable type: logical\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\ncount\n\n\n\n\nround_trip\n0\n1\n0.02\nFAL: 15785257, TRU: 265261\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ntripduration\n0\n1\n792.74\n1539.02\n61.00\n347.00\n575.00\n984.00\n172782.00\n▇▁▁▁▁\n\n\ntripduration_min\n0\n1\n13.21\n25.65\n1.02\n5.78\n9.58\n16.40\n2879.70\n▇▁▁▁▁\n\n\nhour_of_day\n0\n1\n13.85\n4.90\n0.00\n10.00\n14.00\n18.00\n23.00\n▁▅▅▇▃\n\n\nstart_station_latitude\n0\n1\n40.74\n0.03\n40.65\n40.72\n40.74\n40.76\n45.51\n▇▁▁▁▁\n\n\nstart_station_longitude\n0\n1\n-73.98\n0.02\n-74.03\n-74.00\n-73.99\n-73.97\n-73.57\n▇▁▁▁▁\n\n\nend_station_latitude\n0\n1\n40.74\n0.03\n40.65\n40.72\n40.74\n40.76\n45.51\n▇▁▁▁▁\n\n\nend_station_longitude\n0\n1\n-73.98\n0.02\n-74.08\n-74.00\n-73.99\n-73.97\n-73.57\n▇▅▁▁▁\n\n\nbirth_year\n0\n1\n1979.89\n11.87\n1918.00\n1972.00\n1983.00\n1989.00\n2002.00\n▁▁▃▇▇\n\n\napprox_age\n0\n1\n38.11\n11.87\n16.00\n29.00\n35.00\n46.00\n100.00\n▇▇▃▁▁\n\n\n\nVariable type: POSIXct\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\nstarttime\n0\n1\n2018-01-01 00:01:50\n2018-12-31 23:59:51\n2018-07-20 08:25:19\n16042755\n\n\nstoptime\n0\n1\n2018-01-01 00:05:07\n2019-01-02 13:22:10\n2018-07-20 08:39:03\n16042901\n\n\n\n\n\n\ncitibike_2018 &lt;-\n  citibike_2018 |&gt;\n  filter(\n    !is.na(round_trip),\n    !is.na(birth_year),\n    birth_year &gt;= 1918,\n    tripduration_min &lt;= 2880,\n    gender != \"Unknown\"\n  )"
  },
  {
    "objectID": "ST557_Citi_Bikes.html#save-data-and-create-sample",
    "href": "ST557_Citi_Bikes.html#save-data-and-create-sample",
    "title": "Final Project: Citi Bikes",
    "section": "Save data and create sample",
    "text": "Save data and create sample\n\nwrite_csv(citibike_2018_raw, \"data/combined/citibike_2018_full.csv\")\nwrite_rds(citibike_2018_raw, \"data/combined/citibike_2018_full.rds\")\nwrite_csv(citibike_2018, \"data/combined/citibike_2018_transformed.csv\")\nwrite_rds(citibike_2018, \"data/combined/citibike_2018_transformed.rds\")\n\n\nset.seed(557)\n\ncitibike_sample_2018 &lt;-\n  citibike_2018 |&gt;\n  slice_sample(n = 1000)\n\n\nWrite sample to file\n\nwrite_csv(citibike_sample_2018, \"data/sample/citibike_2018_sample_1000.csv\")\nwrite_rds(citibike_sample_2018, \"data/sample/citibike_2018_sample_1000.rds\")"
  }
]